<?phpdefined('BASEPATH') OR exit('No direct script access allowed');class Institute_model extends CI_Model {    private $table = "tbl_institute";    public function insertRow($data = []) {        return $this->db->insert($this->table, $data);    }    public function updateRow($data = []) {        return $this->db->where('institute_id', $data['institute_id'])                        ->update($this->table, $data);    }    public function readRow($institute_id = null) {        return $this->db->select("*")                        ->from($this->table)                        ->where('institute_id', $institute_id)                        ->get()                        ->row();    }    public function institutelist() {		$company=$this->session->userdata('companey_id');		//print_r($company);exit;        return $this->db->select("tbl_institute.*,tbl_country.country_name,state.state")                        ->from("tbl_institute")                        ->join('tbl_country', 'tbl_country.id_c = tbl_institute.country_id','left')						->join('state', 'state.id = tbl_institute.state_id','left')						->where('tbl_institute.comp_id', $company)                        ->get()                        ->result();    }		public function courselist($limit='', $start='',$count='') {		$company=$this->session->userdata('companey_id');        $this->db->select("tbl_course.*,tbl_institute.institute_name");        $this->db->from("tbl_course");        $this->db->join('tbl_institute', 'tbl_institute.institute_id = tbl_course.institute_id','left');		$this->db->where('tbl_course.comp_id', $company);        if($limit!='')        {            $this->db->limit($limit, $start);        }        if($count!='')        {            return $this->db->get()->num_rows();        }        return $this->db->get()->result();    }		public function crslist($limit='', $start='',$count='') {		$company=$this->session->userdata('companey_id');        $this->db->select("*");        $this->db->from("tbl_crsmaster");		$this->db->where('comp_id', $company);        if($limit!='')        {            $this->db->limit($limit, $start);        }        if($count!='')        {            return $this->db->get()->num_rows();        }        return $this->db->get()->result();        //return $this->db->result_array();    }		public function crsmstrlist() {		$company=$this->session->userdata('companey_id');        $this->db->select("*");        $this->db->from("tbl_crsmaster");		$this->db->where('comp_id', $company);        return $this->db->get()->result();        //return $this->db->result_array();    }		public function sub_course($limit='', $start='',$count='') {		$company=$this->session->userdata('companey_id');        $this->db->select("*");        $this->db->from("tbl_subcourse");		$this->db->where('comp_id', $company);        if($limit!='')        {            $this->db->limit($limit, $start);        }        if($count!='')        {            return $this->db->get()->num_rows();        }        return $this->db->get()->result();        //return $this->db->result_array();    }		public function vidlist() {		$company=$this->session->userdata('companey_id');        return $this->db->select("*")                        ->from("tbl_vid")						->where('comp_id', $company)                        ->get()                        ->result();    }		public function insertRowcrs($data = []) {        return $this->db->insert('tbl_course', $data);    }		public function insertcrs($data = []) {        return $this->db->insert('tbl_crsmaster', $data);    }		public function insertsubcrs($data = []) {        return $this->db->insert('tbl_subcourse', $data);    }		public function insertvid($data = []) {        return $this->db->insert('tbl_vid', $data);    }/**************************************** Discipline*****************************************/		public function insertRowdisci($data = []) {        return $this->db->insert('tbl_discipline', $data);    }		public function updateRowdisci($data = []) {        return $this->db->where('id', $data['id'])                        ->update('tbl_discipline', $data);    }		public function readRowdisci($id = null) {        return $this->db->select("*")                        ->from('tbl_discipline')                        ->where('id', $id)                        ->get()                        ->row();    }		public function disciplinelist() {		$company=$this->session->userdata('companey_id');        return $this->db->select("*")                        ->from("tbl_discipline")						->where('tbl_discipline.comp_id', $company)                        ->get()                        ->result();    }		public function deletediscipline($paramId = null)	{		$this->db->where('id',$paramId)->delete('tbl_discipline');		if ($this->db->affected_rows()) {			return true;		} else {			return false;		}	}/**************************************** Discipline End*****************************************//**************************************** Level*****************************************/		public function insertRowlvl($data = []) {        return $this->db->insert('tbl_levels', $data);    }		public function updateRowlvl($data = []) {        return $this->db->where('id', $data['id'])                        ->update('tbl_levels', $data);    }		public function readRowlvl($id = null) {        return $this->db->select("*")                        ->from('tbl_levels')                        ->where('id', $id)                        ->get()                        ->row();    }		public function levellist() {		$company=$this->session->userdata('companey_id');        return $this->db->select("*")                        ->from("tbl_levels")						->where('tbl_levels.comp_id', $company)                        ->get()                        ->result();    }		public function deletelevel($paramId = null)	{		$this->db->where('id',$paramId)->delete('tbl_levels');		if ($this->db->affected_rows()) {			return true;		} else {			return false;		}	}/**************************************** Level End*****************************************//**************************************** Length*****************************************/		public function insertRowlgh($data = []) {        return $this->db->insert('tbl_length', $data);    }		public function updateRowlgh($data = []) {        return $this->db->where('id', $data['id'])                        ->update('tbl_length', $data);    }		public function readRowlgh($id = null) {        return $this->db->select("*")                        ->from('tbl_length')                        ->where('id', $id)                        ->get()                        ->row();    }		public function lengthlist() {		$company=$this->session->userdata('companey_id');        return $this->db->select("*")                        ->from("tbl_length")						->where('tbl_length.comp_id', $company)                        ->get()                        ->result();    }		public function deletelength($paramId = null)	{		$this->db->where('id',$paramId)->delete('tbl_length');		if ($this->db->affected_rows()) {			return true;		} else {			return false;		}	}/**************************************** Length End*****************************************/		public function findinstitute() {		$company=$this->session->userdata('companey_id');        return $this->db->select("*")                        ->from($this->table)                        ->where('tbl_institute.comp_id', $company)                        ->get()                        ->result();    }		public function findcourse() {		$company=$this->session->userdata('companey_id');        return $this->db->select("*")                        ->from("tbl_crsmaster")                        ->where('comp_id', $company)                        ->get()                        ->result();    }      public function institutelist_api($compno) {              return $this->db->select("tbl_institute.*,tbl_country.country_name")                        ->from("tbl_institute")                        ->join('tbl_country', 'tbl_country.id_c = tbl_institute.country_id','left')                        ->where('tbl_institute.comp_id', $compno)                        ->get()                        ->result();    }    public function institutelist_by_country($country_ids){                $country_ids = explode(',',$country_ids);                 $company=$this->session->userdata('companey_id');        return $this->db->select("tbl_institute.*,tbl_country.country_name")                        ->from("tbl_institute")                        ->join('tbl_country', 'tbl_country.id_c = tbl_institute.country_id')                        ->where_in('tbl_institute.country_id',$country_ids)                        ->where('tbl_institute.comp_id', $company)                        ->get()                        ->result();            }    public function get_institute_app_status(){                return $this->db->get('institute_app_status')->result_array();    }    public function all_block($city_id) {        return $this->db->select('*')->from('tbl_institute')->where('city_id', $city_id)->get()->result();    }    public function findRows($institute_id) {        return $this->db->select('*')                        ->from($this->table)                        ->where('institute_id', $institute_id)                        ->get()                        ->result();    }    public function institute_list_by_id($sIdArr){        return $this->db->select('sch.*,sch.institute_id,sch.institute_name,sch.address,sch.contact_name,sch.contact_number,sch.dise_code,sch.created_date,sch.updated_date,tbl_block.block,city.city,state.state')                        ->from('tbl_institute as sch')                                                ->join('state', 'state.id = sch.state_id')                        ->join('city', 'city.id = sch.city_id')                        ->join('tbl_block', 'tbl_block.block_id = sch.block_id')                        ->where_in('institute_id',$sIdArr)                        ->order_by('dise_code', "asc")                        ->get()                        ->result();    }     public function institute_contact_list_by_id($institute_id){                return $this->db->select("*")                        ->from("tbl_institute_contact")                        ->where('institute_id',$institute_id)                        ->order_by('institute_id', "desc")                        ->get()                        ->result();    }    public function deleteInstitute($paramId = null)	{		$this->db->where('institute_id',$paramId)->delete('tbl_institute');		if ($this->db->affected_rows()) {			return true;		} else {			return false;		}	}public function readRowcrs($crs_id = null) {        return $this->db->select("*")                        ->from('tbl_course')                        ->where('crs_id', $crs_id)                        ->get()                        ->row();    }		public function readcrs($crs_id = null) {        return $this->db->select("*")                        ->from('tbl_crsmaster')                        ->where('id', $crs_id)                        ->get()                        ->row();    }		public function readsubcrs($crs_id = null) {        return $this->db->select("*")                        ->from('tbl_subcourse')                        ->where('id', $crs_id)                        ->get()                        ->row();    }		public function readvid($crs_id = null) {        return $this->db->select("*")                        ->from('tbl_vid')                        ->where('id', $crs_id)                        ->get()                        ->row();    }public function updateRowcrs($data = []) {        return $this->db->where('crs_id', $data['crs_id'])                        ->update('tbl_course', $data);    }public function updatecrs($data = []) {        return $this->db->where('id', $data['id'])                        ->update('tbl_crsmaster', $data);    }	public function updatesubcrs($data = []) {        return $this->db->where('id', $data['id'])                        ->update('tbl_subcourse', $data);    }	public function updatevid($data = []) {        return $this->db->where('id', $data['id'])                        ->update('tbl_vid', $data);    }public function deletecourse($paramId = null)	{		$this->db->where('crs_id',$paramId)->delete('tbl_course');		if ($this->db->affected_rows()) {			return true;		} else {			return false;		}	}public function deletecrs($paramId = null)	{		$this->db->where('id',$paramId)->delete('tbl_crsmaster');		if ($this->db->affected_rows()) {			return true;		} else {			return false;		}	}		public function deletesubcrs($paramId = null)	{		$this->db->where('id',$paramId)->delete('tbl_subcourse');		if ($this->db->affected_rows()) {			return true;		} else {			return false;		}	}public function deletevid($paramId = null)	{		$this->db->where('id',$paramId)->delete('tbl_vid');		if ($this->db->affected_rows()) {			return true;		} else {			return false;		}	}public function videos() {		$company=$this->session->userdata('companey_id');        return $this->db->select("*")                        ->from("tbl_vid")                        ->where('comp_id', $company)                        ->get()                        ->result();    }public function all_crs_list() {		$company=$this->session->userdata('companey_id');        return $this->db->select("*")                        ->from("tbl_crsmaster")                        ->where('comp_id', $company)                        ->get()                        ->result();    }	}